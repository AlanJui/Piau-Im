# 反切雙字查標音需求

## 功能描述

用途：使用者透過終端機，以反切之切語上、下字，查詢漢字之標音(或稱：拼音)。

指令格式：

```bash
py a400_反切查拼音.py [參數1：切語雙字]
```

參數：

- 切語雙字： 2 個中文字
  (1) 反切上字：切語雙字參數的第 1 個中文字
  (2) 反切下字：切語雙字參數的第 2 個中文字

## 執行流程

1. 在終端機輸入指令，如：

```bash
python a400_反切查拼音.py 德紅
```

2. 程式碼依據輸入的參數，進行處理，於完成後輸資料如下：

```bash
欲查詢拼音之漢字：[參數1：查詢漢字]

反切拼音為：[參數2：反切拼]

反切上字為：[反切上字]
反切下字為：[反切下字]
```

## 處理羅輯

### 如何利切語上字及下字判定音調調號

1. 利用上字：
   (1) 查聲母的台羅拼音字母；
   (2) 分清濁音：上字的台羅拼音聲調，若是1-4為清；5-8為濁

2. 利用下字：
   (1) 查韻母的台羅拼音字母；
   (2) 辨平/上/去/入聲：下字的台羅拼音聲調，若是1/5為平；2/6為上；3/7為去；4/8為入

3. 利用「清/濁」和「平/上/去/入」，查四聲八調的調號
   | 　 | 平 | 上 | 去 | 入 |
   |----+----+----+----+----|
   | 清 | 1 | 2 | 3 | 4 |
   | 濁 | 5 | 6 | 7 | 8 |

   1: 清平
   2: 清上
   3: 清去
   4: 清入
   5: 濁平
   6: 濁上
   7: 濁去
   8: 濁入

4. 台羅拚音 = 聲母 + 韻母 + 調號

漢字= "東"

上字= "德" --> 台羅拚音：tik4 --> 聲母 = "t" --> 調號 = 4 --> 清音
下字= "紅" --> 台羅拚音：hong5 --> 聲母 = "ong" --> 調號 = 5 --> 平聲
由清音+平聲 --> 調號 = 5

台羅拼音 = t + ong + 5 = tong5

5. 陽上轉陰上或陽入

當切語上字屬【濁】音；切語下字為【四聲】之【上】，則【濁上】=【陽上】，推得【調號】為【6】。

但非【泉州腔】之閩南話，如：漳州腔、廈門腔，已無【陽上調】，遇此情形，第 6 聲之【陽上調】，將
依以之【規則】轉成第 2 聲之【陰上調】或第 7 聲之【陽入調】。

**1. 濁上變去（轉為第 7 聲：陽去）**

在《廣韻》音系中，若切語上字是【全濁】聲母（如：並、定、從、澄、群、邪、禪等），且下字屬於【上聲】，在多數漢語方言（包含閩南語）中，會發生「**濁上變去**」的現象。

規則： 全濁聲母 + 上聲 → 陽去（第 7 聲）。

範例：

「是」：承旨切（上字「承」為禪母，全濁），理論上應為 6 聲，實際讀為 sī (7)。

「上」：時掌切（上字「時」為禪母，全濁），理論上應為 6 聲，實際讀為 siāng / siōng (7)。

「重」：直隴切（上字「直」為澄母，全濁），實際讀為 tiōng (7)。

**2. 陽上併入陰上（轉為第 2 聲：陰上）**

若切語上字是次濁聲母（又稱清濁，如：明、泥、娘、疑、微、喻、來、日等），且下字屬於上聲，在漳州腔與廈門腔（以及現今多數台灣通行腔）中，陽上調通常會併入陰上調。

規則： 次濁聲母 + 上聲 → 陰上（第 2 聲）。

範例：

「五」：疑古切（上字「疑」為疑母，次濁），理論上應為 6 聲，實際讀為 ngóo (2)。

「米」：莫禮切（上字「莫」為明母，次濁），理論上應為 6 聲，實際讀為 bí (2)。

「耳」：而止切（上字「而」為日母，次濁），理論上應為 6 聲，實際讀為 hín / hīnn (2)。
