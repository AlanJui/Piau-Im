# 漢字標音作業流程

使用 PlantUML 繪製 UML 之【流程圖】與【活動圖】。

1. 【a000】：清空儲存格，備妥作業用工作表
2. 人工手動填入【漢字文章】
3. 【a100】：將【漢字文章】逐字填入【漢字注音】工作表
4. 【a200】：為每個漢字查找【漢字標音】
5. 若出現【缺字表】工作表，則以人工作業查找漢字之【漢字標音】
6. 人工檢視【漢字注音】工作表，以【人工標音】校正程式自動查找之【漢字標音】
7. 【a300】：依據【缺字表】及【標音字庫】資料，更新【漢字注音】工作表之【漢字標音】
8. 【a810】：以【缺字表】之【漢字】及【漢字標音】添入【漢字庫】，補其缺漏
9. 【a820】：以【標音字庫】之【漢字】及【校正標音】添入【漢字庫】，補其缺漏
10. 【a830】：以【漢字庫】製作中州韻字典檔


## 流程圖

```mermaid
flowchart TD
    A[【a000】：清空儲存格，備妥作業用工作表] --> B[人工手動填入【漢字文章】]
    B --> C[【a100】：將【漢字文章】逐字填入【漢字注音】工作表]
    C --> D[【a200】：為每個漢字查找【漢字標音】]
    D --> E{是否出現【缺字表】工作表?}
    E -- 是 --> F[以人工作業查找漢字之【漢字標音】]
    E -- 否 --> G[人工檢視【漢字注音】工作表，以【人工標音】校正程式自動查找之【漢字標音】]
    F --> G
    G --> H[【a300】：依據【缺字表】及【標音字庫】資料，更新【漢字注音】工作表之【漢字標音】]
    H --> I[【a810】：以【缺字表】之【漢字】及【漢字標音】添入【漢字庫】，補其缺漏]
    I --> J[【a820】：以【標音字庫】之【漢字】及【校正標音】添入【漢字庫】，補其缺漏]
    J --> K[【a830】：以【漢字庫】製作中州韻字典檔]
```

```mermaid
flowchart TD
    A[【a000】：清空儲存格，備妥作業用工作表] --> B[【人工作業】：手動填入【漢字文章】]
    B --> C[【a100】：將【漢字文章】逐字填入【漢字注音】工作表]
    C --> D[【a200】：為每個漢字查找【漢字標音】]
    D --> E{活頁簿檔案中出現【缺字表】工作表?}
    E -- 是 --> F[【人工作業】：若出現【缺字表】，則手動查找各漢字之【漢字標音】，並填入【台語音標】儲存格，以便增添新注音漢字]
    E -- 否 --> G[【人工作業】：檢視【漢字注音】工作表，對於自動查找錯誤處，以【人工標音】校正錯誤之【漢字標音】]
    F --> G
    G --> H[【a300】：依據【缺字表】及【標音字庫】資料，更新【漢字注音】工作表之【漢字標音】]

    H -->|fork| I[【a810】：以【缺字表】之【漢字】及【漢字標音】添入【漢字庫】，補其缺漏]
    H -->|fork again| J[【a820】：以【標音字庫】之【漢字】及【校正標音】添入【漢字庫】，補其缺漏]
    I -->|end fork| K[【a830】：以【漢字庫】製作中州韻輸入引擎字典檔]
    J -->|end fork| K
```


### 活動圖

```mermaid
flowchart TD
    subgraph 作業系統
        A[【a000】：清空儲存格，備妥作業用工作表]
        C[【a100】：將【漢字文章】逐字填入【漢字注音】工作表]
        D[【a200】：為每個漢字查找【漢字標音】]
        G[人工檢視【漢字注音】工作表，以【人工標音】校正程式自動查找之【漢字標音】]
        H[【a300】：依據【缺字表】及【標音字庫】資料，更新【漢字注音】工作表之【漢字標音】]
        I[【a810】：以【缺字表】之【漢字】及【漢字標音】添入【漢字庫】，補其缺漏]
        J[【a820】：以【標音字庫】之【漢字】及【校正標音】添入【漢字庫】，補其缺漏]
        K[【a830】：以【漢字庫】製作中州韻字典檔]
    end

    subgraph 人工
        B[人工手動填入【漢字文章】]
        F[以人工作業查找漢字之【漢字標音】]
    end

    A --> B
    B --> C
    C --> D
    D --> E{是否出現【缺字表】工作表?}
    E -- 是 --> F
    F --> G
    E -- 否 --> G
    G --> H
    H --> I
    I --> J
    J --> K
```

### 循序圖

```mermaid
%%{init: {
  "sequence": {
    "useMaxWidth": true,
    "wrap": false,
    "actorMargin": 300,
    "messageFontSize": 18,
  },
  "themeVariables": { "fontSize": "18px" }
}}%%

sequenceDiagram
    actor 人工作業
    participant 應用系統

    應用系統 ->> 應用系統: 【a000】清空儲存格，備妥作業用工作表

    人工作業 ->> 應用系統: 人工手動填入【漢字文章】，將待標音之漢字貼入【漢字注音】工作表 V3 儲存格

    應用系統 ->> 應用系統: 【a100】將【漢字文章】逐字填入【漢字注音】工作表

    應用系統 ->> 應用系統: 【a200】查找每個漢字之【台語音標】

    alt 出現【缺字表】工作表
        人工作業 ->> 應用系統: 手動查找【漢字標音】，填入【缺字表】工作表之【校正音標】欄
    end

    應用系統 ->> 應用系統: 【a320】以【缺字表】之【漢字】及【漢字標音】添入【漢字庫】，補其缺漏

    應用系統 ->> 應用系統: 【a230】依據【缺字表】，更新【漢字注音】工作表之【台語音標】、【漢字標音】儲存格，與【標音字庫】工作表

    alt 【漢字注音】工作表之漢字標音需調整
        人工作業 ->> 應用系統: 在【漢字注音】工作表，手動填入【台語音標】於某一漢字之【台語音標】儲存格
        人工作業 ->> 應用系統: 在【標音字庫】工作表，於【校正音標】欄，手動填入【台語音標】（可用有【調符】之【台羅音標】）
    end

    應用系統 ->> 應用系統: 【a300】依據【標音字庫】工作表之【校正標音】欄，更新【漢字注音】工作表之【台語音標】、【漢字標音】儲存格
    應用系統 ->> 應用系統: 【a300】依據【漢字注音】工作表，手動填入之【台語音標】，更新【漢字標音】儲存格

    應用系統 ->> 應用系統: 【a400】依據【漢字注音】工作表內容，及【env】工作表之【設定值】，製作【網頁】

    應用系統 ->> 應用系統: 【a830】以【漢字庫】製作中州韻字典檔
```